{% extends 'base.html' %}


{% block links %}
<link href="{{ url_for('static', filename='styles/profile.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="profile card">
    <div class="profile__header">
        <div class="profile__header_text">
            Профиль
        </div>


        <div class="profile__header_settings">

            {% if user.id == current_user.id %}
            <div class="profile__header_setting">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path
                            d="M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"/>
                </svg>
            </div>
            {% endif %}
        </div>

    </div>
    <div class="profile__content">
        <div class="profile__content_top">
            <div class="profile__avatar">
                <div class="avatar__container">
                    <img class="avatar__image" src="{{url_for('main.load_avatar', id=user.id)}}">
                </div>
                {% if current_user.id == user.id %}
                <form class="file__input" method="POST" action="{{ url_for('main.upload_avatar') }}"
                      enctype="multipart/form-data">
                    <div class="file__input_upload">
                        <input type="file" id="file" name="file" class="file" required>
                        <label for="file">
                            Select file
                        </label>
                    </div>
                    <div class="file__input_send">
                        <button type="submit">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path
                                        d="M511.6 36.86l-64 415.1c-1.5 9.734-7.375 18.22-15.97 23.05c-4.844 2.719-10.27 4.097-15.68 4.097c-4.188 0-8.319-.8154-12.29-2.472l-122.6-51.1l-50.86 76.29C226.3 508.5 219.8 512 212.8 512C201.3 512 192 502.7 192 491.2v-96.18c0-7.115 2.372-14.03 6.742-19.64L416 96l-293.7 264.3L19.69 317.5C8.438 312.8 .8125 302.2 .0625 289.1s5.469-23.72 16.06-29.77l448-255.1c10.69-6.109 23.88-5.547 34 1.406S513.5 24.72 511.6 36.86z"/>
                            </svg>
                        </button>
                    </div>
                </form>
                {% endif %}
            </div>
            <div class="profile__content_main">
                <div class="profile__field">
                    <div class="profile__field_icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path
                                    d="M464 64C490.5 64 512 85.49 512 112C512 127.1 504.9 141.3 492.8 150.4L275.2 313.6C263.8 322.1 248.2 322.1 236.8 313.6L19.2 150.4C7.113 141.3 0 127.1 0 112C0 85.49 21.49 64 48 64H464zM217.6 339.2C240.4 356.3 271.6 356.3 294.4 339.2L512 176V384C512 419.3 483.3 448 448 448H64C28.65 448 0 419.3 0 384V176L217.6 339.2z"/>
                        </svg>
                    </div>
                    <div class="profile__field_text">Почта: {{ user.email }}</div>
                </div>
                <div class="profile__field">
                    <div class="profile__field_icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                            <path
                                    d="M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"/>
                        </svg>
                    </div>
                    <div class="profile__field_text">Фамилия: {{ user.last_name }}</div>
                </div>
                <div class="profile__field">
                    <div class="profile__field_icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                            <path
                                    d="M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"/>
                        </svg>
                    </div>
                    <div class="profile__field_text">Имя: {{ user.first_name}}</div>
                </div>
            </div>
        </div>
        <div class="profile__content_bottom">
            <div class="profile__field">
                <div class="profile__field_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path
                                d="M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"/>
                    </svg>
                </div>
                <div class="profile__field_text"> Логин: {{ user.login }}</div>
            </div>
            <div class="profile__field">
                <div class="profile__field_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path
                                d="M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"/>
                    </svg>
                </div>
                <div class="profile__field_text">Возраст: {% if user.age %} Больше 18 лет {% else %} Меньше 18 лет {%
                    endif%}
                </div>
            </div>
            <div class="profile__field">
                <div class="profile__field_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path
                                d="M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"/>
                    </svg>
                </div>
                <div class="profile__field_text">Пол: {{ user.gender }}</div>
            </div>
            <div class="profile__field">
                <div class="profile__field_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path
                                d="M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"/>
                    </svg>
                </div>
                <div class="profile__field_text">Создан: {{ moment(user.member_since).format('L') }}</div>
            </div>
            <div class="profile__field">
                <div class="profile__field_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path
                                d="M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"/>
                    </svg>
                </div>
                <div class="profile__field_text">Последний визит: {{ moment(user.last_seen).fromNow() }}</div>
            </div>
             <div class="profile__field">
                <div class="profile__field_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path
                                d="M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"/>
                    </svg>
                </div>
                <div class="profile__field_text">Роль: {{ user.role.name }}</div>
            </div>
        </div>


    </div>


    <!-- 
    {% if user %}
    <div class="profile__field"><span>Login:</span> {{ user.login }}</div>
    <div class="profile__field"><span>Email:</span> {{ user.email }}</div>
    <div class="profile__field"><span>Last name:</span> {{ user.last_name }}</div>
    <div class="profile__field"><span>First name:</span> {{ user.first_name }}</div>
    <div class="profile__field"><span>Gender:</span> {{ user.gender }}</div>
    <div class="profile__field"><span>Age:</span> {% if user.age %} Старше 18 лет {% endif %}</div>

    <div class="followers">
        {% if user.followed %}
        {% for follower in user.followed %}
        <div class="followers__field"> {{follower.followed.email}}</div>
        {% endfor %}
        {% endif %}
    </div>
    {% else %}
    <div> Пользовтель не найден</div>
    {% endif %} -->
</div>

{% endblock %}

{% block scripts %}
{% endblock %}